{# 1. НАСЛЕДОВАНИЕ базового шаблона #}
{% extends 'base.html.twig' %}

{# 2. ПЕРЕОПРЕДЕЛЕНИЕ заголовка страницы #}
{% block title %}
    {{ seo.title|default('О нашей студии') }} | RDN.BY
{% endblock %}

{# 4. ОСНОВНОЙ КОНТЕНТ страницы #}
{% block body %}
    <main class="relative bg-white z-10 w-full overflow-hidden" id="main-content">
        
        {# Hero Секция #}
        <section class="section-overlap bg-white relative z-10 pt-48 pb-24 px-6 lg:px-12 border-b border-gray-200" id="about-hero">
            <div class="max-w-7xl mx-auto">
                <div class="flex justify-between items-end mb-8 js-reveal text-xs md:text-sm font-bold tracking-widest text-gray-500 uppercase">
                    <span>ОБЗОР АГЕНТСТВА</span>
                    <span class="text-black">ОСНОВАНО В 2018</span>
                </div>
                <h1 class="text-6xl md:text-9xl font-black tracking-tighter uppercase mb-16 max-w-5xl leading-none js-reveal">
                    ФОРМИРУЕМ<br>ИНТЕЛЛЕКТ
                </h1>
                <hr class="border-black mb-16 js-reveal">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12 js-reveal">
                    <div></div> <!-- Empty spacer -->
                    <p class="text-xl md:text-2xl font-light text-gray-600 leading-relaxed max-w-2xl">
                        Мы помогаем бизнесу расти, используя современные подходы к SEO, машинному обучению и глубокой аналитике данных. Мы переводим хаос в структуру.
                    </p>
                </div>
            </div>
        </section>

        {# История #}
        <section class="section-overlap bg-[rgb(249,249,249)] relative z-10 py-32 px-6 lg:px-12" id="about-history">
            <div class="max-w-7xl mx-auto">
                <h2 class="text-2xl font-black tracking-widest uppercase mb-16 border-b border-black pb-4 js-reveal">ИСТОРИЯ И ВИДЕНИЕ</h2>
                
                <div class="grid lg:grid-cols-2 gap-16 items-start js-reveal">
                    <!-- Image -->
                    <div class="w-full h-[400px] md:h-[600px] bg-gray-200 border border-black p-4 relative overflow-hidden group">
                        <div class="absolute inset-4 border border-black/10 z-10 pointer-events-none"></div>
                        <img src="https://images.unsplash.com/photo-1552664730-d307ca884978?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
                             alt="Наш офис"
                             class="w-full h-full object-cover filter grayscale group-hover:grayscale-0 transition-all duration-700">
                    </div>

                    <!-- Text -->
                    <div class="space-y-8 mt-8">
                        <p class="text-lg text-gray-700 leading-relaxed">
                            Начав с небольшой команды из 3 человек в 2018 году, мы выросли до полноценного хаба, объединяющего глубокую техническую экспертизу и генеративные модели ИИ.
                        </p>
                        <p class="text-lg text-gray-700 leading-relaxed">
                            За это время мы реализовали более 100 успешных интеграций, масштабировав трафик, конверсии и внутренние процессы наших клиентов на сотни процентов, полагаясь на математику, а не на интуицию.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        {# Цифры и факты #}
        <section class="section-overlap bg-black text-white relative z-10 py-32 px-6 lg:px-12" id="about-stats">
            <div class="max-w-7xl mx-auto">
                <h2 class="text-2xl font-black tracking-widest uppercase mb-16 border-b border-gray-800 pb-4 text-gray-400 js-reveal">ПОКАЗАТЕЛИ</h2>
                
                <div class="grid grid-cols-2 md:grid-cols-4 gap-y-16 gap-x-8 border-t border-b border-gray-800 py-16 js-reveal">
                    
                    <div class="flex flex-col border-r border-gray-800 pr-8">
                        <span class="text-5xl lg:text-7xl font-black tracking-tighter mb-4">100+</span>
                        <span class="text-[10px] font-bold tracking-widest uppercase text-gray-500">Успешных проектов</span>
                    </div>

                    <div class="flex flex-col md:border-r border-gray-800 pr-8">
                        <span class="text-5xl lg:text-7xl font-black tracking-tighter mb-4">5</span>
                        <span class="text-[10px] font-bold tracking-widest uppercase text-gray-500">Лет инноваций</span>
                    </div>

                    <div class="flex flex-col border-r border-gray-800 pr-8 pt-16 md:pt-0">
                        <span class="text-5xl lg:text-7xl font-black tracking-tighter mb-4">15+</span>
                        <span class="text-[10px] font-bold tracking-widest uppercase text-gray-500">Экспертов в Data & Web</span>
                    </div>

                    <div class="flex flex-col pr-8 pt-16 md:pt-0">
                        <span class="text-5xl lg:text-7xl font-black tracking-tighter mb-4">98%</span>
                        <span class="text-[10px] font-bold tracking-widest uppercase text-gray-500">Довольных клиентов</span>
                    </div>

                </div>
            </div>
        </section>
    </main>

    {# GSAP Scroll Animations #}
    <script>
        document.addEventListener('RDNLibsLoaded', () => {
            if (typeof gsap === 'undefined' || typeof ScrollTrigger === 'undefined') return;
            gsap.registerPlugin(ScrollTrigger);

            const revealElements = document.querySelectorAll('.js-reveal');
            revealElements.forEach((el) => {
                gsap.fromTo(el, 
                    { y: 40, opacity: 0 }, 
                    {
                        y: 0, 
                        opacity: 1,
                        duration: 1,
                        ease: 'power3.out',
                        scrollTrigger: {
                            trigger: el,
                            start: 'top 85%',
                            toggleActions: 'play none none reverse'
                        }
                    }
                );
            });

            // Parallax Section Effect Layering
            const sections = document.querySelectorAll('.section-overlap');
            sections.forEach((section, index) => {
                section.style.zIndex = index + 10;
                if (index > 0) {
                    const prevSection = sections[index - 1];
                    gsap.to(prevSection, {
                        yPercent: 15,
                        ease: "none",
                        scrollTrigger: {
                            trigger: section,
                            start: "top bottom",
                            end: "top top",
                            scrub: true
                        }
                    });
                }
            });
        });
    </script>
{% endblock %}
