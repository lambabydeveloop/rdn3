<!-- ========== HERO SECTION ========== -->
<section class="relative bg-white/60 bg-blur-md overflow-hidden py-16 sm:py-24 lg:py-32">
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid lg:grid-cols-12 gap-8 items-center border-b border-gray-100 pb-20 lg:pb-32">
      
      <!-- Left Content -->
      <div class="lg:col-span-6 relative z-10 flex flex-col justify-center">
        <!-- Subtitle -->
        <div class="flex items-center gap-4 mb-8">
          <div class="h-[2px] bg-black w-10"></div>
          <span class="text-[11px] font-bold tracking-[0.2em] text-gray-500 uppercase">Лучшие решения по лучшим ценам</span>
        </div>
        
        <!-- Main Title -->
        <h1 class="text-6xl sm:text-7xl lg:text-[6rem] font-bold tracking-tighter leading-[0.9] text-black mb-8" style="font-family: 'Helvetica Neue', Arial, sans-serif;">
          DIGITAL AI<br/>STUDIO
        </h1>
        
        <!-- Description -->
        <div class="pl-5 border-l-2 border-black mb-12">
          <p class="text-xl sm:text-[22px] text-gray-500 font-medium leading-[1.5] max-w-[28rem]">
            Мы создаем цифровые продукты, которые помогают бизнесу расти. 
            <br> <br>
            Разработка, доработка, SEO, GEO (Generative Engine Optimization), Реклама, Аналитика - все, что поможет Вам зарабатывать больше
          </p>
        </div>
        
        <!-- Buttons -->
        <div class="flex flex-wrap items-center gap-4">
          <!-- Black Button -->
          <a href="/services" class="group relative inline-flex items-center justify-center px-8 py-5 border border-black bg-black text-white text-[11px] font-bold tracking-[0.15em] uppercase transition-colors duration-500 hover:bg-white focus:outline-hidden overflow-hidden">
            <span class="relative z-10 transition-opacity duration-300 group-hover:opacity-0">НАШИ УСЛУГИ</span>
            <span class="absolute left-0 inset-y-0 w-0 z-20 overflow-hidden bg-white flex items-center text-black border-r-2 border-transparent group-hover:w-full group-hover:border-black transition-all duration-500 ease-out">
              <span class="pl-8 pr-8 whitespace-nowrap">НАШИ УСЛУГИ</span>
            </span>
          </a>
          
          <!-- White Button -->
          <a href="/about" class="group relative inline-flex items-center justify-center px-8 py-5 border border-black bg-white text-black text-[11px] font-bold tracking-[0.15em] uppercase transition-colors duration-500 hover:bg-black focus:outline-hidden overflow-hidden">
            <span class="relative z-10 transition-opacity duration-300 group-hover:opacity-0 flex items-center gap-2">
              О НАС
              <span class="material-symbols-outlined text-[16px] font-bold" style="font-size: 16px;">arrow_outward</span>
            </span>
            <span class="absolute left-0 inset-y-0 w-0 z-20 overflow-hidden bg-black flex items-center text-white border-r-2 border-transparent group-hover:w-[101%] group-hover:border-white transition-all duration-500 ease-out">
              <span class="pl-8 pr-8 whitespace-nowrap flex items-center gap-2">
                О НАС
                <span class="material-symbols-outlined text-[16px] font-bold" style="font-size: 16px;">arrow_outward</span>
              </span>
            </span>
          </a>
        </div>
      </div>

      <!-- Right Side (Visual elements over the fixed 3D canvas) -->
      <div class="lg:col-span-6 relative mt-20 lg:mt-0 h-[450px] sm:h-[550px] lg:h-[650px] flex items-center justify-center">
        <!-- Faint Background Text -->
        <div class="absolute inset-0 flex items-center justify-center pointer-events-none select-none z-0 overflow-hidden transform lg:translate-x-12">
          <span class="text-[9rem] md:text-[14rem] lg:text-[20rem] font-black text-transparent whitespace-nowrap" style="-webkit-text-stroke: 1px rgba(0,0,0,0.03);">WEB STUDIO</span>
        </div>
        <!-- Loading AI Placeholder -->
        <div id="ai-placeholder" class="absolute inset-0 flex items-center justify-center z-10 pointer-events-none transition-opacity duration-1000">
            <span class="text-[8rem] sm:text-[10rem] lg:text-[14rem] font-black tracking-tighter text-transparent select-none animate-pulse" style="-webkit-text-stroke: 4px rgba(0,0,0,0.8);">AI</span>
        </div>
        
        <!-- Local 3D AI Network Scene -->
        <div id="hero-3d-scene" class="absolute inset-0 z-20 pointer-events-auto cursor-crosshair opacity-0 transition-opacity duration-1000"></div>
    </div>
  </div>
</section>




<script>
document.addEventListener('RDNLibsLoaded', () => {
    // Smooth transition from "AI" text to 3D sphere
    const placeholder = document.getElementById('ai-placeholder');
    const container = document.getElementById('hero-3d-scene');
    
    if (placeholder) {
        placeholder.style.opacity = '0';
        setTimeout(() => placeholder.remove(), 1000); // clear from DOM after fade
    }
    
    if (container) {
        // Wait just a bit to let the text fade slightly before showing the sphere
        setTimeout(() => {
            container.style.opacity = '1';
        }, 300);
    }

    if (!container || typeof THREE === 'undefined') return;

    // 1. Core Setup
    const scene = new THREE.Scene();
    
    // Camera
    const camera = new THREE.PerspectiveCamera(45, container.clientWidth / container.clientHeight, 0.1, 100);
    camera.position.z = 10;

    // Renderer (optimized for speed)
    const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true, powerPreference: "high-performance" });
    renderer.setSize(container.clientWidth, container.clientHeight);
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 1.5)); 
    container.appendChild(renderer.domElement);

    // 2. AI Network Sphere (Icosahedron)
    // A wireframe sphere with points that looks like a neural network
    const geometry = new THREE.IcosahedronGeometry(3.5, 2);
    
    // Wireframe material
    const matLines = new THREE.LineBasicMaterial({
        color: 0x000000,
        transparent: true,
        opacity: 0.15
    });
    
    // Points material
    const matPoints = new THREE.PointsMaterial({
        color: 0x000000,
        size: 0.05,
        transparent: true,
        opacity: 0.6
    });

    const wireframe = new THREE.LineSegments(new THREE.WireframeGeometry(geometry), matLines);
    const points = new THREE.Points(geometry, matPoints);

    // Group them
    const networkSphere = new THREE.Group();
    networkSphere.add(wireframe);
    networkSphere.add(points);
    scene.add(networkSphere);

    // 3. Mouse Interaction
    let mouseX = 0;
    let mouseY = 0;
    let targetX = 0;
    let targetY = 0;

    const windowHalfX = window.innerWidth / 2;
    const windowHalfY = window.innerHeight / 2;

    document.addEventListener('mousemove', (event) => {
        mouseX = (event.clientX - windowHalfX);
        mouseY = (event.clientY - windowHalfY);
    });

    // Handle Resize
    const updateLayout = () => {
        camera.aspect = container.clientWidth / container.clientHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(container.clientWidth, container.clientHeight);
    };
    window.addEventListener('resize', updateLayout);

    // 4. Animation Loop
    const clock = new THREE.Clock();
    
    // Only animate if container is in viewport (Optimization)
    let isVisible = true;
    if ('IntersectionObserver' in window) {
        const observer = new IntersectionObserver((entries) => {
            isVisible = entries[0].isIntersecting;
        });
        observer.observe(container);
    }

    function run() {
        requestAnimationFrame(run);
        if (!isVisible) return; // Save battery & resources!

        const t = clock.getElapsedTime();

        // Smooth mouse target rotation
        targetX = mouseX * 0.001;
        targetY = mouseY * 0.001;

        networkSphere.rotation.y += 0.05 * (targetX - networkSphere.rotation.y);
        networkSphere.rotation.x += 0.05 * (targetY - networkSphere.rotation.x);
        
        // Constant slow idle rotation
        networkSphere.rotation.z += 0.001;
        networkSphere.rotation.y += 0.002;

        // Subtle floating
        networkSphere.position.y = Math.sin(t) * 0.2;

        // Deform vertices slightly to make it look "alive" (breathing)
        const scale = 1 + Math.sin(t * 2) * 0.02;
        networkSphere.scale.set(scale, scale, scale);

        renderer.render(scene, camera);
    }
    run();
});
</script>

